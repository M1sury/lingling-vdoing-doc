---
title: 8.避免使用终结方法和清除方法
date: 2023-01-04 16:43:27
permalink: /pages/012eaa/
tags: 
  - null
categories: 
  - Effective Java
  - 创建和销毁对象
---

## 避免使用终结方法和清除方法

终结方法(`Object.finalize()`) 通常是不可预测的，也是很危险的，一般情况下是不必要的。使用终结方法会导致行为不稳定、性能降低，以及可移植性问题。**根据经验，应该避免使用终结方法。**在 Java9 中用清除方法`Cleaner`代替了终结方法。**`Cleaner`虽然没有`finalize()`那么危险，但仍然是不可预测、运行缓慢，一般情况下也是不必要的。**

在 Java 中，当一个对象变得不可到达的时候，垃圾回收器会回收与该对象相关联的存储空间，并不需要我们做专门的工作。**而对于回收其他的非内存资源**

* 什么叫对象不可达？这个要涉及**对死亡对象的判断方法**。堆中几乎放着所有的对象实例，对堆回收前的第一步就要判断哪些对象已经死亡（即不能再被任何途径使用的对象）
* 可达性分析算法（**Java中用来判断对象是否可达的算法**）：这个算法的基本思想就是在堆中选取一些名为“**GC Roots**”的对象作为起点，从这些节点向下搜索，这些节点引用着的对象说明是科大的。**当一个对象到 GC Roots 没有任何引用链相连，证明该对象不可用，需要被回收**
* 详细内容请翻阅：[可达性分析算法](https://javaguide.cn/java/jvm/jvm-garbage-collection.html#可达性分析算法)







## 参考文献

[可达性分析算法](https://javaguide.cn/java/jvm/jvm-garbage-collection.html#可达性分析算法)
